let popupTimeout,tenseDefinitions={pr:"Present tense",pc:"Past tense",pp:"Past perfect tense",ps:"Past tense (literature)",im:"Imperfect past (past state or ongoing action)",fs:"Future tense (intentions, predictions, conditional)",fa:"Future tense (actions previous to another)",co:"Conditional tense",cp:"Past conditional tense (regrets, what would / could have happened)",su:"Subjunctive Tense (opinions, emotions, and possibilities)",sp:"Past of the Subjunctive Tense (opinions, emotions, and possibilities)"};$(".tree-item").click(e=>{$("#learn-popup-container > #learn-popup").remove(),$("[info]").removeAttr("info");let t=$(e.target),o=$("#page-content").innerWidth(),n={left:t.offset().left-$("#page-content").offset().left,top:t.offset().top+$("#page-content").scrollTop(),width:Math.min(.75*o,300)};n.left+=t.outerWidth()/2,n.left=Math.min(n.left,o-.5*n.width-16),n.left=Math.max(n.left,.5*n.width+16),t.attr("info",!0),$(document.body).addClass("showpopup"),$("#learn-popup-container").append(`<div id="learn-popup" tenseshort="${t.attr("tenseshort")}" class="expand-down box center" style="top:${n.top}px; left:${n.left}px;">\n        <div id="tense-name" class="primary">\n            ${t.attr("tense")}\n        </div>\n        <div id="tense-def" class="">\n            Learn the ${tenseDefinitions[t.attr("tenseshort")].toLowerCase()}\n        </div>\n        <button id="learn-popup-action" class="box-button blue-button">PRACTICE</button>\n        ${t[0].hasAttribute("badged")?"<div id='learn-popup-message-separator'></div><div id='learn-popup-message' style='--badge-color:"+t.css("--badge-color")+"'>"+(null!=t.attr("message")?t.attr("message"):"[message]")+"</div>":""}\n     </div>`)}),$(document.body).on("click",e=>{$(e.target).hasClass("hidepopup")&&($("[info]").removeAttr("info"),$("#learn-popup-container > #learn-popup").addClass("collapse"),popupTimeout=setTimeout((function(){$(document.body).removeClass("showpopup"),$("#learn-popup-container > .collapse").remove(),$(".removeInfo[info]").removeAttr("info")}),175))}),$(window).on("resize",e=>{$("#learn-popup-container > #learn-popup").remove(),$("[info]").click()}),$(document.body).on("click","#learn-popup-action",e=>{userDoc().set({tenses:[$("#learn-popup").attr("tenseshort")]},{merge:!0}).then(()=>{window.location.href="./practice.html"})});