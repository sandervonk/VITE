"use strict";function setupVerbDropdown(e){return new Promise(((t,o)=>{try{for(let t of Object.keys(e))$("#conjugator-verb").append(`<option value="${t}">${t}</option>`);t()}catch(e){o(e)}}))}function fillConjugations(){let e=$("#conjugator-verb").val(),t=$("#conjugator-tense").val();t&&e&&($("#bottom-actions > div").removeClass("disabled"),$(".conjugate-verb").each((function(o,n){n=$(n);let a={tense:t,verb:e,subject:n.attr("subject")},r=new Conjugate(a);n.text(r.answer.alt)})))}$("#search-options").on("change",fillConjugations),$.getJSON("/VITE/verbs.json").done((function(e){verbs=e,setupVerbDropdown(verbs).then((()=>{function e(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t(e){let t=Object.keys(verbs);return function(){let o=t.indexOf($("#conjugator-verb").val())+e;o<0?o=t.length-1:o>t.length-1&&(o=0),$("#conjugator-verb").val(t[o]),fillConjugations()}}params&&params.get("verb")&&$("#conjugator-verb").has(`option[value="${e(params.get("verb"))}"]`)&&$("#conjugator-verb").val(e(params.get("verb"))),params&&params.get("tense")&&$("#conjugator-tense").has(`option[value="${params.get("tense")}"]`)&&$("#conjugator-tense").val(params.get("tense")),fillConjugations(),$("#prev-button").click(t(-1)),$("#next-button").click(t(1))})).catch((e=>{console.error(e)}))})).fail((function(e){console.error("Could not load verbs.json :(",e)})),$("#explanation-button").click((()=>{let e;try{e=JSON.parse(localStorage.getItem("userData"))}catch(t){e={}}e.verbs=[$("#conjugator-verb").val()],e.tense=[$("#conjugator-tense").val()],e.subjects=["Je","Tu","Il / Elle / On","Nous","Vous","Ils / Elles"],localStorage.setItem("userData",JSON.stringify(e)),new Toast("Creating a worksheet!","default",1e3,"/VITE/img/icon/info-icon.svg","./sheetify.html?right=true&template=VITE!%20Classic&tense="+$("#conjugator-tense").val())})),$("#wordreference-button").click((()=>{window.open(`//www.wordreference.com/conj/frverbs.aspx?v=${encodeURIComponent($("#conjugator-verb").val())}`,"_newtab")}));
